# ooi's puppet module

This module will install and configure [`ooi`][ooi] the OpenStack OCCI
Implementation using Puppet.

[ooi]: http://launchad.net/ooi

Should you find any bug, please fill in [bug report](http://bugs.launchpad.net/ooi).

## Installation

You can install the puppet module as usual:

    git clone https://github.com/indigo-dc/puppet-ooi
    puppet module build puppet-ooi
    puppet module install --ignore-dependencies puppet-ooi/pkg/puppet-ooi-<VERSION>.tar.gz
    puppet module install puppetlabs/apt

## Usage:

    class {
        "ooi":
            openstack_version => "liberty",
            ooi_listen        => "0.0.0.0",
            ooi_listen_port   => 8787,
            ooi_workers       => 8,
            manage_service    => true,
    }

The accepted parameters are the following:

* `openstack_version`: (REQUIRED) Choose between "liberty" or "mitaka"
* `ooi_listen`: (OPTIONAL) IP address where `ooi` will bind to. Defaults to "0.0.0.0".
* `ooi_listen_port`: (OPTIONAL) Port where `ooi` will bind to. Defaults to 8787.
* `ooi_workers`: (OPTIONAL) Number of `ooi` workers to spawn. Defaults to the
  number of CPUs in the system.
* `manage_service`: (OPTIONAL) Whether this Puppet module should try to restart
  the `nova-api` service or not. By default it manages the service, but there
  may be cases where you are not running nova using the nova-api daemon, but
  running it in a WSGI server. In such case, set this to false.

### Caveats

If you are using some other Puppet module to install and configure nova it will
be possibly managing the `/etc/nova/api-paste.ini` file. If this is the case,
this module will throw a warning and you must ensure that the alternative file
generated by us is used by nova.
